{% extends "the_usual_weather-base.html" %}

{% block content %}
    <div class="report-display">
        <h1 class="tool-home"><a href="{{ url_for('the_usual_weather.the_usual_weather') }}">The Usual Weather</a> </h1>
        <p><strong>Submit a new request <a href="{{ url_for('the_usual_weather.submit') }}">here!</a></strong></p>
    <p>List of prior submissions:</p>
    <table class="report-table">
        <thead>
            <tr>
                <th>User</th>
                <th>Submission Date</th>
                <th>Submission City</th>
                <th>Requested Month-Day</th>
                <th>GPS Coordinates - Map Link</th>
                <th>Decoded City</th>
                <th>Decoded State</th>
                <th>Country Code</th>
                <th>Report Status</th>
            </tr>
        </thead>
        <tbody>
        {% for report in pretty_list %}
            <tr>
                <td>{{ report.requesting_user }}</td>
                <td>{{ report.submitted_date }}</td>
                <td>{{ report.submitted_city }}</td>
                <td>{{ report.requested_date }}</td>
                <td><a href="https://www.google.com/maps/place/{{ report.gps_coordinates }}" target="_blank">{{ report.gps_coordinates }}</a> </td>
                <td>{{ report.decoded_city }}</td>
                <td>{{ report.decoded_state }}</td>
                <td>{{ report.decoded_country }}</td>
                <td><a href="{{ url_for('the_usual_weather.report_detail', job_id=report.job_id) }}">{{ report.job_status }}</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
{% endblock %}